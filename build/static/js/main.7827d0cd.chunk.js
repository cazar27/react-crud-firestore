(this["webpackJsonpreact-firebase-crud"]=this["webpackJsonpreact-firebase-crud"]||[]).push([[0],{24:function(e,t,a){},29:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(8),o=a.n(r),s=(a(24),a(13)),l=a(7),i=a.n(l),u=a(6),m=a(10),p=a(14),d=a(19),b=(a(33),d.a.initializeApp({apiKey:"AIzaSyB3jCgTrlseerL6Uqvg4panyaOrwl64PKM",authDomain:"react-crud-efa69.firebaseapp.com",projectId:"react-crud-efa69",storageBucket:"react-crud-efa69.appspot.com",messagingSenderId:"225002651465",appId:"1:225002651465:web:876650e33cd073a6e3e498",measurementId:"G-H9WTCH2EGZ"}).firestore()),f=a(9),v=function(e){var t={type:"",name:"",description:""},a=Object(n.useState)(t),r=Object(p.a)(a,2),o=r[0],l=r[1],d=function(e){var t=e.target,a=t.name,n=t.value;l(Object(u.a)(Object(u.a)({},o),{},Object(s.a)({},a,n)))},v=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("objects").doc(t).get();case 2:a=e.sent,l(Object(u.a)({},a.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){""===e.currentId?l(Object(u.a)({},t)):v(e.currentId)}),[e.currentId]),c.a.createElement("form",{onSubmit:function(a){if(a.preventDefault(),n=o.type,!(new RegExp).test(n))return Object(f.b)("invalid type",{type:"warning",autoClose:1e3});var n;e.addOrEditObjects(o),l(Object(u.a)({},t))},className:"card card-body border-primary"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-label"},"Type"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Object Type",value:o.type,name:"type",onChange:d})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-label"},"Name"),c.a.createElement("input",{type:"text",value:o.name,name:"name",placeholder:"Object Name",className:"form-control",onChange:d})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-label"},"Description"),c.a.createElement("textarea",{rows:"3",className:"form-control",placeholder:"Write a Description",name:"description",value:o.description,onChange:d})),c.a.createElement("button",{className:"btn btn-primary btn-block"},""===e.currentId?"Insert":"Update"))},j=function(){var e=Object(n.useState)({searchValue:""}),t=Object(p.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),l=Object(p.a)(o,2),d=l[0],j=l[1],E=Object(n.useState)(""),y=Object(p.a)(E,2),h=y[0],O=y[1],w=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.collection("objects").onSnapshot((function(e){var a=[];e.forEach((function(e){e.data().name.toLowerCase().includes(t.toLowerCase())&&a.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),j(a)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.collection("objects").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),j(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("are you sure you want to delete this link?")){e.next=4;break}return e.next=3,b.collection("objects").doc(t).delete();case 3:Object(f.b)("Object removed successfully",{type:"error",autoClose:2e3});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){N()}),[]);var k=function(){var e=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==h){e.next=7;break}return e.next=4,b.collection("objects").doc().set(t);case 4:Object(f.b)("New object added",{type:"success"}),e.next=11;break;case 7:return e.next=9,b.collection("objects").doc(h).update(t);case 9:Object(f.b)("Object updated successfully",{type:"info"}),O("");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},c.a.createElement("div",{className:"container"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=a.searchValue;w(t)},className:"form-inline my-2 my-lg-0"},c.a.createElement("input",{className:"form-control mr-sm-2",type:"text",name:"searchValue",placeholder:"Search",value:a.searchValue,onChange:function(e){var t=e.target,n=t.name,c=t.value;r(Object(u.a)(Object(u.a)({},a),{},Object(s.a)({},n,c)))}}),c.a.createElement("button",{className:"btn btn-success my-2 my-sm-0 mr-2",type:"submit"},"Search")),c.a.createElement("button",{className:"btn btn-warning my-2 my-sm-0",onClick:N},"Restart List"))),c.a.createElement("div",{className:"container py-3"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 p-2"},c.a.createElement(v,{addOrEditObjects:k,currentId:h,objects:d})),c.a.createElement("div",{className:"col-md-8 p-2"},d.map((function(e){return c.a.createElement("div",{className:"card mb-1",key:e.id},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("h4",null,c.a.createElement("span",{className:"normal"},"Name: "),e.name),c.a.createElement("div",{className:"pointer"},c.a.createElement("i",{className:"material-icons text-danger",onClick:function(){return g(e.id)}},"close"),c.a.createElement("i",{className:"material-icons",onClick:function(){return O(e.id)}},"create"))),c.a.createElement("p",null,"Type: ",e.type),c.a.createElement("p",null,"Description: ",e.description)))}))))))};a(29),a(30);var E=function(){return c.a.createElement("div",null,c.a.createElement(j,null),c.a.createElement(f.a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(31);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.7827d0cd.chunk.js.map